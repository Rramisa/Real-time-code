{"ast":null,"code":"var _jsxFileName = \"/Users/sumonta/Downloads/CSE471_Group8-main/frontend/src/components/VSCodeLayout.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect, useCallback, useRef } from 'react';\nimport Editor from '@monaco-editor/react';\nimport { useAuth } from '../context/AuthContext';\nimport { useNavigate } from 'react-router-dom';\nimport { toast } from 'react-hot-toast';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst VSCodeLayout = () => {\n  _s();\n  const [treeData, setTreeData] = useState([]);\n  const [currentFile, setCurrentFile] = useState(null);\n  const [expandedFolders, setExpandedFolders] = useState(new Set());\n  const [isLoading, setIsLoading] = useState(true);\n  const [hasUnsavedChanges, setHasUnsavedChanges] = useState(false);\n  const autoSaveTimeoutRef = useRef(null);\n  const {\n    user,\n    logout\n  } = useAuth();\n  const navigate = useNavigate();\n  const API_BASE_URL = process.env.REACT_APP_BACKEND_URL || 'http://localhost:5001';\n\n  // Fetch the folder/file tree\n  const fetchTree = useCallback(async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(`${API_BASE_URL}/api/tree`, {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      if (response.ok) {\n        const data = await response.json();\n        setTreeData(data.tree || []);\n      } else {\n        const errorData = await response.json();\n        toast.error(errorData.message || 'Failed to fetch files');\n      }\n    } catch (error) {\n      console.error('Error fetching tree:', error);\n      toast.error('Network error while fetching files');\n    } finally {\n      setIsLoading(false);\n    }\n  }, [API_BASE_URL]);\n\n  // Fetch a specific file with content\n  const fetchFile = async fileId => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(`${API_BASE_URL}/api/files/${fileId}`, {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      if (response.ok) {\n        const data = await response.json();\n        return data.file;\n      } else {\n        const errorData = await response.json();\n        throw new Error(errorData.message || 'Failed to fetch file');\n      }\n    } catch (error) {\n      console.error('Error fetching file:', error);\n      throw error;\n    }\n  };\n\n  // Auto-save functionality\n  const autoSave = useCallback(async (fileId, content) => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(`${API_BASE_URL}/api/files/${fileId}`, {\n        method: 'PUT',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          content\n        })\n      });\n      if (response.ok) {\n        setHasUnsavedChanges(false);\n        // Update file in current file state\n        setCurrentFile(prevFile => (prevFile === null || prevFile === void 0 ? void 0 : prevFile.id) === fileId ? {\n          ...prevFile,\n          content,\n          updatedAt: new Date().toISOString()\n        } : prevFile);\n      } else {\n        const errorData = await response.json();\n        throw new Error(errorData.message || 'Failed to save file');\n      }\n    } catch (error) {\n      console.error('Error auto-saving file:', error);\n      // Don't show toast for auto-save failures to keep it silent\n    }\n  }, [API_BASE_URL]);\n\n  // Auto-save effect\n  useEffect(() => {\n    if (hasUnsavedChanges && currentFile !== null && currentFile !== void 0 && currentFile.id) {\n      // Clear existing timeout\n      if (autoSaveTimeoutRef.current) {\n        clearTimeout(autoSaveTimeoutRef.current);\n      }\n\n      // Set new timeout for auto-save (5 seconds)\n      autoSaveTimeoutRef.current = setTimeout(() => {\n        autoSave(currentFile.id, currentFile.content);\n      }, 5000);\n    }\n    return () => {\n      if (autoSaveTimeoutRef.current) {\n        clearTimeout(autoSaveTimeoutRef.current);\n      }\n    };\n  }, [hasUnsavedChanges, currentFile, autoSave]);\n\n  // Create new file\n  const createFile = async (parentFolderId, fileName) => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(`${API_BASE_URL}/api/files`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          name: fileName,\n          parentFolderId,\n          content: ''\n        })\n      });\n      if (response.ok) {\n        await fetchTree();\n        const data = await response.json();\n        toast.success('File created successfully');\n        return data.file;\n      } else {\n        const errorData = await response.json();\n        throw new Error(errorData.message || 'Failed to create file');\n      }\n    } catch (error) {\n      toast.error(error.message || 'Failed to create file');\n      throw error;\n    }\n  };\n\n  // Create new folder\n  const createFolder = async (parentFolderId, folderName) => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(`${API_BASE_URL}/api/folders`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          name: folderName,\n          parentFolderId\n        })\n      });\n      if (response.ok) {\n        await fetchTree();\n        toast.success('Folder created successfully');\n        // Expand parent folder\n        if (parentFolderId) {\n          setExpandedFolders(prev => new Set([...prev, parentFolderId]));\n        }\n      } else {\n        const errorData = await response.json();\n        throw new Error(errorData.message || 'Failed to create folder');\n      }\n    } catch (error) {\n      toast.error(error.message || 'Failed to create folder');\n      throw error;\n    }\n  };\n\n  // Delete file\n  const deleteFile = async fileId => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(`${API_BASE_URL}/api/files/${fileId}`, {\n        method: 'DELETE',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      if (response.ok) {\n        await fetchTree();\n        if ((currentFile === null || currentFile === void 0 ? void 0 : currentFile.id) === fileId) {\n          setCurrentFile(null);\n        }\n        toast.success('File deleted successfully');\n      } else {\n        const errorData = await response.json();\n        throw new Error(errorData.message || 'Failed to delete file');\n      }\n    } catch (error) {\n      toast.error(error.message || 'Failed to delete file');\n      throw error;\n    }\n  };\n\n  // Delete folder\n  const deleteFolder = async folderId => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(`${API_BASE_URL}/api/folders/${folderId}`, {\n        method: 'DELETE',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      if (response.ok) {\n        await fetchTree();\n        toast.success('Folder deleted successfully');\n      } else {\n        const errorData = await response.json();\n        throw new Error(errorData.message || 'Failed to delete folder');\n      }\n    } catch (error) {\n      toast.error(error.message || 'Failed to delete folder');\n      throw error;\n    }\n  };\n\n  // Rename file\n  const renameFile = async (fileId, newName) => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(`${API_BASE_URL}/api/files/${fileId}/rename`, {\n        method: 'PATCH',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          name: newName\n        })\n      });\n      if (response.ok) {\n        await fetchTree();\n        // Update current file if it's the one being renamed\n        if ((currentFile === null || currentFile === void 0 ? void 0 : currentFile.id) === fileId) {\n          setCurrentFile(prev => prev ? {\n            ...prev,\n            name: newName\n          } : null);\n        }\n        toast.success('File renamed successfully');\n      } else {\n        const errorData = await response.json();\n        throw new Error(errorData.message || 'Failed to rename file');\n      }\n    } catch (error) {\n      toast.error(error.message || 'Failed to rename file');\n      throw error;\n    }\n  };\n\n  // Rename folder\n  const renameFolder = async (folderId, newName) => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(`${API_BASE_URL}/api/folders/${folderId}/rename`, {\n        method: 'PATCH',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          name: newName\n        })\n      });\n      if (response.ok) {\n        await fetchTree();\n        toast.success('Folder renamed successfully');\n      } else {\n        const errorData = await response.json();\n        throw new Error(errorData.message || 'Failed to rename folder');\n      }\n    } catch (error) {\n      toast.error(error.message || 'Failed to rename folder');\n      throw error;\n    }\n  };\n\n  // Handle file selection\n  const handleFileSelect = async file => {\n    try {\n      const fileWithContent = await fetchFile(file.id);\n      setCurrentFile(fileWithContent);\n      setHasUnsavedChanges(false);\n    } catch (error) {\n      toast.error(error.message || 'Failed to load file');\n    }\n  };\n\n  // Handle content change\n  const handleContentChange = content => {\n    setCurrentFile(prevFile => prevFile ? {\n      ...prevFile,\n      content\n    } : null);\n    setHasUnsavedChanges(true);\n  };\n\n  // Toggle folder expansion\n  const toggleFolder = folderId => {\n    setExpandedFolders(prev => {\n      const newSet = new Set(prev);\n      if (newSet.has(folderId)) {\n        newSet.delete(folderId);\n      } else {\n        newSet.add(folderId);\n      }\n      return newSet;\n    });\n  };\n\n  // Get language from file extension\n  const getLanguageFromExtension = filename => {\n    var _filename$split$pop;\n    if (!filename) return 'javascript';\n    const extension = (_filename$split$pop = filename.split('.').pop()) === null || _filename$split$pop === void 0 ? void 0 : _filename$split$pop.toLowerCase();\n    const languageMap = {\n      'js': 'javascript',\n      'jsx': 'javascript',\n      'ts': 'typescript',\n      'tsx': 'typescript',\n      'py': 'python',\n      'java': 'java',\n      'cpp': 'cpp',\n      'c': 'c',\n      'css': 'css',\n      'html': 'html',\n      'json': 'json',\n      'md': 'markdown',\n      'sql': 'sql',\n      'php': 'php',\n      'rb': 'ruby',\n      'go': 'go',\n      'rs': 'rust',\n      'swift': 'swift',\n      'kt': 'kotlin'\n    };\n    return languageMap[extension] || 'plaintext';\n  };\n\n  // Initial load\n  useEffect(() => {\n    fetchTree();\n  }, [fetchTree]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      height: '100vh',\n      display: 'flex',\n      flexDirection: 'column',\n      backgroundColor: '#1e1e1e',\n      color: 'white'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        height: '40px',\n        backgroundColor: '#2d2d30',\n        borderBottom: '1px solid #3e3e42',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n        padding: '0 16px',\n        fontSize: '14px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          alignItems: 'center'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            fontWeight: 'bold',\n            color: '#cccccc'\n          },\n          children: \"CodeSync - File Manager\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          gap: '12px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            color: '#888',\n            fontSize: '12px'\n          },\n          children: [\"Welcome, \", (user === null || user === void 0 ? void 0 : user.username) || (user === null || user === void 0 ? void 0 : user.email)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            logout();\n            navigate('/');\n            toast.success('Logged out successfully');\n          },\n          style: {\n            backgroundColor: '#dc2626',\n            border: 'none',\n            color: 'white',\n            padding: '4px 12px',\n            borderRadius: '4px',\n            cursor: 'pointer',\n            fontSize: '12px'\n          },\n          onMouseEnter: e => e.target.style.backgroundColor = '#b91c1c',\n          onMouseLeave: e => e.target.style.backgroundColor = '#dc2626',\n          children: \"Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 358,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        flex: 1,\n        display: 'flex'\n      },\n      children: [/*#__PURE__*/_jsxDEV(FileExplorer, {\n        treeData: treeData,\n        expandedFolders: expandedFolders,\n        currentFile: currentFile,\n        isLoading: isLoading,\n        onFileSelect: handleFileSelect,\n        onToggleFolder: toggleFolder,\n        onCreateFile: createFile,\n        onCreateFolder: createFolder,\n        onDeleteFile: deleteFile,\n        onDeleteFolder: deleteFolder,\n        onRenameFile: renameFile,\n        onRenameFolder: renameFolder,\n        onRefresh: fetchTree\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 400,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          flex: 1,\n          display: 'flex',\n          flexDirection: 'column'\n        },\n        children: currentFile ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              height: '40px',\n              backgroundColor: '#2d2d30',\n              borderBottom: '1px solid #3e3e42',\n              display: 'flex',\n              alignItems: 'center',\n              paddingLeft: '16px'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                fontSize: '14px',\n                color: 'white'\n              },\n              children: [currentFile.name, hasUnsavedChanges && /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: '#ff9500',\n                  marginLeft: '4px'\n                },\n                children: \"\\u25CF\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 431,\n                columnNumber: 39\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 429,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 421,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              flex: 1\n            },\n            children: /*#__PURE__*/_jsxDEV(Editor, {\n              height: \"100%\",\n              language: getLanguageFromExtension(currentFile.name),\n              value: currentFile.content,\n              theme: \"vs-dark\",\n              onChange: handleContentChange,\n              options: {\n                fontSize: 14,\n                minimap: {\n                  enabled: true\n                },\n                scrollBeyondLastLine: false,\n                automaticLayout: true,\n                tabSize: 2,\n                wordWrap: 'on',\n                lineNumbers: 'on',\n                renderWhitespace: 'selection'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 437,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 436,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            flex: 1,\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            flexDirection: 'column'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '4rem',\n              marginBottom: '16px'\n            },\n            children: \"\\uD83D\\uDCC1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 464,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              color: '#888',\n              margin: 0\n            },\n            children: \"No file selected\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 465,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: '#666',\n              margin: '8px 0 0 0'\n            },\n            children: \"Select a file from the explorer to start editing\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 466,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 457,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 417,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 398,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 356,\n    columnNumber: 5\n  }, this);\n};\n\n// File Explorer Component\n_s(VSCodeLayout, \"uqA3BTGca91iSHg07y5OmtZMyCM=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c = VSCodeLayout;\nconst FileExplorer = ({\n  treeData,\n  expandedFolders,\n  currentFile,\n  isLoading,\n  onFileSelect,\n  onToggleFolder,\n  onCreateFile,\n  onCreateFolder,\n  onDeleteFile,\n  onDeleteFolder,\n  onRefresh\n}) => {\n  _s2();\n  const [contextMenu, setContextMenu] = useState(null);\n  const [showCreateModal, setShowCreateModal] = useState(false);\n  const [createType, setCreateType] = useState('file'); // 'file' or 'folder'\n  const [createParentId, setCreateParentId] = useState(null);\n  const [createName, setCreateName] = useState('');\n  const handleContextMenu = (e, item) => {\n    e.preventDefault();\n    setContextMenu({\n      x: e.clientX,\n      y: e.clientY,\n      item\n    });\n  };\n  const handleCreateClick = (type, parentId = null) => {\n    setCreateType(type);\n    setCreateParentId(parentId);\n    setCreateName('');\n    setShowCreateModal(true);\n    setContextMenu(null);\n  };\n  const handleCreate = async () => {\n    if (!createName.trim()) return;\n    try {\n      if (createType === 'file') {\n        await onCreateFile(createParentId, createName.trim());\n      } else {\n        await onCreateFolder(createParentId, createName.trim());\n      }\n      setShowCreateModal(false);\n    } catch (error) {\n      // Error handled in parent\n    }\n  };\n  const handleDelete = async item => {\n    const confirmMessage = item.type === 'folder' ? `Are you sure you want to delete \"${item.name}\" and all its contents?` : `Are you sure you want to delete \"${item.name}\"?`;\n    if (window.confirm(confirmMessage)) {\n      try {\n        if (item.type === 'folder') {\n          await onDeleteFolder(item.id);\n        } else {\n          await onDeleteFile(item.id);\n        }\n      } catch (error) {\n        // Error handled in parent\n      }\n    }\n    setContextMenu(null);\n  };\n  const renderTreeItem = (item, level = 0) => {\n    const isExpanded = expandedFolders.has(item.id);\n    const isSelected = (currentFile === null || currentFile === void 0 ? void 0 : currentFile.id) === item.id;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          padding: '4px 8px',\n          paddingLeft: `${level * 16 + 8}px`,\n          cursor: 'pointer',\n          backgroundColor: isSelected ? '#37373d' : 'transparent',\n          fontSize: '14px'\n        },\n        onClick: () => {\n          if (item.type === 'folder') {\n            onToggleFolder(item.id);\n          } else {\n            onFileSelect(item);\n          }\n        },\n        onContextMenu: e => handleContextMenu(e, item),\n        onMouseEnter: e => {\n          if (!isSelected) e.target.style.backgroundColor = '#2a2d2e';\n        },\n        onMouseLeave: e => {\n          if (!isSelected) e.target.style.backgroundColor = 'transparent';\n        },\n        children: [item.type === 'folder' && /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            marginRight: '4px',\n            fontSize: '12px'\n          },\n          children: isExpanded ? 'ðŸ“‚' : 'ðŸ“'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 578,\n          columnNumber: 13\n        }, this), item.type === 'file' && /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            marginRight: '4px',\n            fontSize: '12px'\n          },\n          children: \"\\uD83D\\uDCC4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 583,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: item.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 587,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 552,\n        columnNumber: 9\n      }, this), item.type === 'folder' && isExpanded && item.children && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: item.children.map(child => renderTreeItem(child, level + 1))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 591,\n        columnNumber: 11\n      }, this)]\n    }, item.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 551,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      width: '300px',\n      backgroundColor: '#252526',\n      borderRight: '1px solid #3e3e42',\n      display: 'flex',\n      flexDirection: 'column'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '12px 16px',\n        borderBottom: '1px solid #3e3e42',\n        fontSize: '11px',\n        fontWeight: 'bold',\n        textTransform: 'uppercase',\n        letterSpacing: '0.5px',\n        color: '#cccccc'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Explorer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 618,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: '8px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleCreateClick('file'),\n            style: {\n              background: 'none',\n              border: 'none',\n              color: '#cccccc',\n              cursor: 'pointer',\n              fontSize: '16px',\n              padding: '2px'\n            },\n            title: \"New File\",\n            children: \"\\uD83D\\uDCC4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 620,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleCreateClick('folder'),\n            style: {\n              background: 'none',\n              border: 'none',\n              color: '#cccccc',\n              cursor: 'pointer',\n              fontSize: '16px',\n              padding: '2px'\n            },\n            title: \"New Folder\",\n            children: \"\\uD83D\\uDCC1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 634,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onRefresh,\n            style: {\n              background: 'none',\n              border: 'none',\n              color: '#cccccc',\n              cursor: 'pointer',\n              fontSize: '14px',\n              padding: '2px'\n            },\n            title: \"Refresh\",\n            children: \"\\uD83D\\uDD04\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 648,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 619,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 617,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 608,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        flex: 1,\n        overflowY: 'auto'\n      },\n      children: isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: '16px',\n          textAlign: 'center',\n          color: '#888'\n        },\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 669,\n        columnNumber: 11\n      }, this) : treeData.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: '16px',\n          textAlign: 'center',\n          color: '#888'\n        },\n        children: [\"No files or folders yet.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 675,\n          columnNumber: 13\n        }, this), \"Create your first file or folder.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 673,\n        columnNumber: 11\n      }, this) : treeData.map(item => renderTreeItem(item))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 667,\n      columnNumber: 7\n    }, this), contextMenu && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'fixed',\n        top: contextMenu.y,\n        left: contextMenu.x,\n        backgroundColor: '#3c3c3c',\n        border: '1px solid #5e5e5e',\n        borderRadius: '4px',\n        zIndex: 1000,\n        minWidth: '150px'\n      },\n      onMouseLeave: () => setContextMenu(null),\n      children: [contextMenu.item.type === 'folder' && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: '8px 12px',\n            cursor: 'pointer',\n            fontSize: '14px'\n          },\n          onClick: () => handleCreateClick('file', contextMenu.item.id),\n          onMouseEnter: e => e.target.style.backgroundColor = '#505050',\n          onMouseLeave: e => e.target.style.backgroundColor = 'transparent',\n          children: \"New File\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 700,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: '8px 12px',\n            cursor: 'pointer',\n            fontSize: '14px'\n          },\n          onClick: () => handleCreateClick('folder', contextMenu.item.id),\n          onMouseEnter: e => e.target.style.backgroundColor = '#505050',\n          onMouseLeave: e => e.target.style.backgroundColor = 'transparent',\n          children: \"New Folder\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 708,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            height: '1px',\n            backgroundColor: '#5e5e5e',\n            margin: '4px 0'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 716,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: '8px 12px',\n          cursor: 'pointer',\n          fontSize: '14px',\n          color: '#f85149'\n        },\n        onClick: () => handleDelete(contextMenu.item),\n        onMouseEnter: e => e.target.style.backgroundColor = '#505050',\n        onMouseLeave: e => e.target.style.backgroundColor = 'transparent',\n        children: \"Delete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 719,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 685,\n      columnNumber: 9\n    }, this), showCreateModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        backgroundColor: 'rgba(0,0,0,0.5)',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        zIndex: 1000\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          backgroundColor: '#2d2d30',\n          borderRadius: '8px',\n          padding: '24px',\n          width: '400px',\n          maxWidth: '90vw'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            margin: '0 0 16px 0',\n            fontSize: '18px'\n          },\n          children: [\"Create New \", createType === 'file' ? 'File' : 'Folder']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 751,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: createName,\n          onChange: e => setCreateName(e.target.value),\n          placeholder: `Enter ${createType} name...`,\n          style: {\n            width: '100%',\n            padding: '8px 12px',\n            backgroundColor: '#1e1e1e',\n            border: '1px solid #3e3e42',\n            borderRadius: '4px',\n            color: 'white',\n            fontSize: '14px',\n            boxSizing: 'border-box',\n            marginBottom: '16px'\n          },\n          autoFocus: true,\n          onKeyPress: e => {\n            if (e.key === 'Enter') {\n              handleCreate();\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 755,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: '12px',\n            justifyContent: 'flex-end'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowCreateModal(false),\n            style: {\n              padding: '8px 16px',\n              backgroundColor: '#6c757d',\n              color: 'white',\n              border: 'none',\n              borderRadius: '4px',\n              cursor: 'pointer',\n              fontSize: '14px'\n            },\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 780,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleCreate,\n            disabled: !createName.trim(),\n            style: {\n              padding: '8px 16px',\n              backgroundColor: createName.trim() ? '#0e639c' : '#404040',\n              color: 'white',\n              border: 'none',\n              borderRadius: '4px',\n              cursor: createName.trim() ? 'pointer' : 'not-allowed',\n              fontSize: '14px'\n            },\n            children: \"Create\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 794,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 779,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 744,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 732,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 600,\n    columnNumber: 5\n  }, this);\n};\n_s2(FileExplorer, \"ieiT4FEcyDnFgH5qewKDRfWTbso=\");\n_c2 = FileExplorer;\nexport default VSCodeLayout;\nvar _c, _c2;\n$RefreshReg$(_c, \"VSCodeLayout\");\n$RefreshReg$(_c2, \"FileExplorer\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useRef","Editor","useAuth","useNavigate","toast","jsxDEV","_jsxDEV","Fragment","_Fragment","VSCodeLayout","_s","treeData","setTreeData","currentFile","setCurrentFile","expandedFolders","setExpandedFolders","Set","isLoading","setIsLoading","hasUnsavedChanges","setHasUnsavedChanges","autoSaveTimeoutRef","user","logout","navigate","API_BASE_URL","process","env","REACT_APP_BACKEND_URL","fetchTree","token","localStorage","getItem","response","fetch","headers","ok","data","json","tree","errorData","error","message","console","fetchFile","fileId","file","Error","autoSave","content","method","body","JSON","stringify","prevFile","id","updatedAt","Date","toISOString","current","clearTimeout","setTimeout","createFile","parentFolderId","fileName","name","success","createFolder","folderName","prev","deleteFile","deleteFolder","folderId","renameFile","newName","renameFolder","handleFileSelect","fileWithContent","handleContentChange","toggleFolder","newSet","has","delete","add","getLanguageFromExtension","filename","_filename$split$pop","extension","split","pop","toLowerCase","languageMap","style","height","display","flexDirection","backgroundColor","color","children","borderBottom","alignItems","justifyContent","padding","fontSize","fontWeight","_jsxFileName","lineNumber","columnNumber","gap","username","email","onClick","border","borderRadius","cursor","onMouseEnter","e","target","onMouseLeave","flex","FileExplorer","onFileSelect","onToggleFolder","onCreateFile","onCreateFolder","onDeleteFile","onDeleteFolder","onRenameFile","onRenameFolder","onRefresh","paddingLeft","marginLeft","language","value","theme","onChange","options","minimap","enabled","scrollBeyondLastLine","automaticLayout","tabSize","wordWrap","lineNumbers","renderWhitespace","marginBottom","margin","_c","_s2","contextMenu","setContextMenu","showCreateModal","setShowCreateModal","createType","setCreateType","createParentId","setCreateParentId","createName","setCreateName","handleContextMenu","item","preventDefault","x","clientX","y","clientY","handleCreateClick","type","parentId","handleCreate","trim","handleDelete","confirmMessage","window","confirm","renderTreeItem","level","isExpanded","isSelected","onContextMenu","marginRight","map","child","width","borderRight","textTransform","letterSpacing","background","title","overflowY","textAlign","length","position","top","left","zIndex","minWidth","right","bottom","maxWidth","placeholder","boxSizing","autoFocus","onKeyPress","key","disabled","_c2","$RefreshReg$"],"sources":["/Users/sumonta/Downloads/CSE471_Group8-main/frontend/src/components/VSCodeLayout.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback, useRef } from 'react';\nimport Editor from '@monaco-editor/react';\nimport { useAuth } from '../context/AuthContext';\nimport { useNavigate } from 'react-router-dom';\nimport { toast } from 'react-hot-toast';\n\nconst VSCodeLayout = () => {\n  const [treeData, setTreeData] = useState([]);\n  const [currentFile, setCurrentFile] = useState(null);\n  const [expandedFolders, setExpandedFolders] = useState(new Set());\n  const [isLoading, setIsLoading] = useState(true);\n  const [hasUnsavedChanges, setHasUnsavedChanges] = useState(false);\n  const autoSaveTimeoutRef = useRef(null);\n  const { user, logout } = useAuth();\n  const navigate = useNavigate();\n\n  const API_BASE_URL = process.env.REACT_APP_BACKEND_URL || 'http://localhost:5001';\n\n  // Fetch the folder/file tree\n  const fetchTree = useCallback(async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(`${API_BASE_URL}/api/tree`, {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n\n      if (response.ok) {\n        const data = await response.json();\n        setTreeData(data.tree || []);\n      } else {\n        const errorData = await response.json();\n        toast.error(errorData.message || 'Failed to fetch files');\n      }\n    } catch (error) {\n      console.error('Error fetching tree:', error);\n      toast.error('Network error while fetching files');\n    } finally {\n      setIsLoading(false);\n    }\n  }, [API_BASE_URL]);\n\n  // Fetch a specific file with content\n  const fetchFile = async (fileId) => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(`${API_BASE_URL}/api/files/${fileId}`, {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n\n      if (response.ok) {\n        const data = await response.json();\n        return data.file;\n      } else {\n        const errorData = await response.json();\n        throw new Error(errorData.message || 'Failed to fetch file');\n      }\n    } catch (error) {\n      console.error('Error fetching file:', error);\n      throw error;\n    }\n  };\n\n  // Auto-save functionality\n  const autoSave = useCallback(async (fileId, content) => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(`${API_BASE_URL}/api/files/${fileId}`, {\n        method: 'PUT',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ content })\n      });\n\n      if (response.ok) {\n        setHasUnsavedChanges(false);\n        // Update file in current file state\n        setCurrentFile(prevFile => \n          prevFile?.id === fileId \n            ? { ...prevFile, content, updatedAt: new Date().toISOString() }\n            : prevFile\n        );\n      } else {\n        const errorData = await response.json();\n        throw new Error(errorData.message || 'Failed to save file');\n      }\n    } catch (error) {\n      console.error('Error auto-saving file:', error);\n      // Don't show toast for auto-save failures to keep it silent\n    }\n  }, [API_BASE_URL]);\n\n  // Auto-save effect\n  useEffect(() => {\n    if (hasUnsavedChanges && currentFile?.id) {\n      // Clear existing timeout\n      if (autoSaveTimeoutRef.current) {\n        clearTimeout(autoSaveTimeoutRef.current);\n      }\n\n      // Set new timeout for auto-save (5 seconds)\n      autoSaveTimeoutRef.current = setTimeout(() => {\n        autoSave(currentFile.id, currentFile.content);\n      }, 5000);\n    }\n\n    return () => {\n      if (autoSaveTimeoutRef.current) {\n        clearTimeout(autoSaveTimeoutRef.current);\n      }\n    };\n  }, [hasUnsavedChanges, currentFile, autoSave]);\n\n  // Create new file\n  const createFile = async (parentFolderId, fileName) => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(`${API_BASE_URL}/api/files`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ name: fileName, parentFolderId, content: '' })\n      });\n\n      if (response.ok) {\n        await fetchTree();\n        const data = await response.json();\n        toast.success('File created successfully');\n        return data.file;\n      } else {\n        const errorData = await response.json();\n        throw new Error(errorData.message || 'Failed to create file');\n      }\n    } catch (error) {\n      toast.error(error.message || 'Failed to create file');\n      throw error;\n    }\n  };\n\n  // Create new folder\n  const createFolder = async (parentFolderId, folderName) => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(`${API_BASE_URL}/api/folders`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ name: folderName, parentFolderId })\n      });\n\n      if (response.ok) {\n        await fetchTree();\n        toast.success('Folder created successfully');\n        // Expand parent folder\n        if (parentFolderId) {\n          setExpandedFolders(prev => new Set([...prev, parentFolderId]));\n        }\n      } else {\n        const errorData = await response.json();\n        throw new Error(errorData.message || 'Failed to create folder');\n      }\n    } catch (error) {\n      toast.error(error.message || 'Failed to create folder');\n      throw error;\n    }\n  };\n\n  // Delete file\n  const deleteFile = async (fileId) => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(`${API_BASE_URL}/api/files/${fileId}`, {\n        method: 'DELETE',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n\n      if (response.ok) {\n        await fetchTree();\n        if (currentFile?.id === fileId) {\n          setCurrentFile(null);\n        }\n        toast.success('File deleted successfully');\n      } else {\n        const errorData = await response.json();\n        throw new Error(errorData.message || 'Failed to delete file');\n      }\n    } catch (error) {\n      toast.error(error.message || 'Failed to delete file');\n      throw error;\n    }\n  };\n\n  // Delete folder\n  const deleteFolder = async (folderId) => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(`${API_BASE_URL}/api/folders/${folderId}`, {\n        method: 'DELETE',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n\n      if (response.ok) {\n        await fetchTree();\n        toast.success('Folder deleted successfully');\n      } else {\n        const errorData = await response.json();\n        throw new Error(errorData.message || 'Failed to delete folder');\n      }\n    } catch (error) {\n      toast.error(error.message || 'Failed to delete folder');\n      throw error;\n    }\n  };\n\n  // Rename file\n  const renameFile = async (fileId, newName) => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(`${API_BASE_URL}/api/files/${fileId}/rename`, {\n        method: 'PATCH',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ name: newName })\n      });\n\n      if (response.ok) {\n        await fetchTree();\n        // Update current file if it's the one being renamed\n        if (currentFile?.id === fileId) {\n          setCurrentFile(prev => prev ? { ...prev, name: newName } : null);\n        }\n        toast.success('File renamed successfully');\n      } else {\n        const errorData = await response.json();\n        throw new Error(errorData.message || 'Failed to rename file');\n      }\n    } catch (error) {\n      toast.error(error.message || 'Failed to rename file');\n      throw error;\n    }\n  };\n\n  // Rename folder\n  const renameFolder = async (folderId, newName) => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(`${API_BASE_URL}/api/folders/${folderId}/rename`, {\n        method: 'PATCH',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ name: newName })\n      });\n\n      if (response.ok) {\n        await fetchTree();\n        toast.success('Folder renamed successfully');\n      } else {\n        const errorData = await response.json();\n        throw new Error(errorData.message || 'Failed to rename folder');\n      }\n    } catch (error) {\n      toast.error(error.message || 'Failed to rename folder');\n      throw error;\n    }\n  };\n\n  // Handle file selection\n  const handleFileSelect = async (file) => {\n    try {\n      const fileWithContent = await fetchFile(file.id);\n      setCurrentFile(fileWithContent);\n      setHasUnsavedChanges(false);\n    } catch (error) {\n      toast.error(error.message || 'Failed to load file');\n    }\n  };\n\n  // Handle content change\n  const handleContentChange = (content) => {\n    setCurrentFile(prevFile => \n      prevFile ? { ...prevFile, content } : null\n    );\n    setHasUnsavedChanges(true);\n  };\n\n  // Toggle folder expansion\n  const toggleFolder = (folderId) => {\n    setExpandedFolders(prev => {\n      const newSet = new Set(prev);\n      if (newSet.has(folderId)) {\n        newSet.delete(folderId);\n      } else {\n        newSet.add(folderId);\n      }\n      return newSet;\n    });\n  };\n\n  // Get language from file extension\n  const getLanguageFromExtension = (filename) => {\n    if (!filename) return 'javascript';\n    \n    const extension = filename.split('.').pop()?.toLowerCase();\n    const languageMap = {\n      'js': 'javascript',\n      'jsx': 'javascript',\n      'ts': 'typescript',\n      'tsx': 'typescript',\n      'py': 'python',\n      'java': 'java',\n      'cpp': 'cpp',\n      'c': 'c',\n      'css': 'css',\n      'html': 'html',\n      'json': 'json',\n      'md': 'markdown',\n      'sql': 'sql',\n      'php': 'php',\n      'rb': 'ruby',\n      'go': 'go',\n      'rs': 'rust',\n      'swift': 'swift',\n      'kt': 'kotlin'\n    };\n    \n    return languageMap[extension] || 'plaintext';\n  };\n\n  // Initial load\n  useEffect(() => {\n    fetchTree();\n  }, [fetchTree]);\n\n  return (\n    <div style={{ height: '100vh', display: 'flex', flexDirection: 'column', backgroundColor: '#1e1e1e', color: 'white' }}>\n      {/* Top Navigation Bar */}\n      <div style={{\n        height: '40px',\n        backgroundColor: '#2d2d30',\n        borderBottom: '1px solid #3e3e42',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n        padding: '0 16px',\n        fontSize: '14px'\n      }}>\n        <div style={{ display: 'flex', alignItems: 'center' }}>\n          <span style={{ fontWeight: 'bold', color: '#cccccc' }}>CodeSync - File Manager</span>\n        </div>\n        \n        <div style={{ display: 'flex', alignItems: 'center', gap: '12px' }}>\n          <span style={{ color: '#888', fontSize: '12px' }}>Welcome, {user?.username || user?.email}</span>\n          <button\n            onClick={() => {\n              logout();\n              navigate('/');\n              toast.success('Logged out successfully');\n            }}\n            style={{\n              backgroundColor: '#dc2626',\n              border: 'none',\n              color: 'white',\n              padding: '4px 12px',\n              borderRadius: '4px',\n              cursor: 'pointer',\n              fontSize: '12px'\n            }}\n            onMouseEnter={(e) => e.target.style.backgroundColor = '#b91c1c'}\n            onMouseLeave={(e) => e.target.style.backgroundColor = '#dc2626'}\n          >\n            Logout\n          </button>\n        </div>\n      </div>\n\n      {/* Main Content Area */}\n      <div style={{ flex: 1, display: 'flex' }}>\n        {/* File Explorer Sidebar */}\n        <FileExplorer\n        treeData={treeData}\n        expandedFolders={expandedFolders}\n        currentFile={currentFile}\n        isLoading={isLoading}\n        onFileSelect={handleFileSelect}\n        onToggleFolder={toggleFolder}\n        onCreateFile={createFile}\n        onCreateFolder={createFolder}\n        onDeleteFile={deleteFile}\n        onDeleteFolder={deleteFolder}\n        onRenameFile={renameFile}\n        onRenameFolder={renameFolder}\n        onRefresh={fetchTree}\n      />\n\n      {/* Editor Area */}\n      <div style={{ flex: 1, display: 'flex', flexDirection: 'column' }}>\n        {currentFile ? (\n          <>\n            {/* File Tab */}\n            <div style={{\n              height: '40px',\n              backgroundColor: '#2d2d30',\n              borderBottom: '1px solid #3e3e42',\n              display: 'flex',\n              alignItems: 'center',\n              paddingLeft: '16px'\n            }}>\n              <span style={{ fontSize: '14px', color: 'white' }}>\n                {currentFile.name}\n                {hasUnsavedChanges && <span style={{ color: '#ff9500', marginLeft: '4px' }}>â—</span>}\n              </span>\n            </div>\n\n            {/* Monaco Editor */}\n            <div style={{ flex: 1 }}>\n              <Editor\n                height=\"100%\"\n                language={getLanguageFromExtension(currentFile.name)}\n                value={currentFile.content}\n                theme=\"vs-dark\"\n                onChange={handleContentChange}\n                options={{\n                  fontSize: 14,\n                  minimap: { enabled: true },\n                  scrollBeyondLastLine: false,\n                  automaticLayout: true,\n                  tabSize: 2,\n                  wordWrap: 'on',\n                  lineNumbers: 'on',\n                  renderWhitespace: 'selection'\n                }}\n              />\n            </div>\n          </>\n        ) : (\n          <div style={{\n            flex: 1,\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            flexDirection: 'column'\n          }}>\n            <div style={{ fontSize: '4rem', marginBottom: '16px' }}>ðŸ“</div>\n            <h3 style={{ color: '#888', margin: 0 }}>No file selected</h3>\n            <p style={{ color: '#666', margin: '8px 0 0 0' }}>Select a file from the explorer to start editing</p>\n          </div>\n        )}\n      </div>\n      </div>\n    </div>\n  );\n};\n\n// File Explorer Component\nconst FileExplorer = ({ \n  treeData, \n  expandedFolders, \n  currentFile, \n  isLoading,\n  onFileSelect, \n  onToggleFolder, \n  onCreateFile, \n  onCreateFolder, \n  onDeleteFile, \n  onDeleteFolder,\n  onRefresh \n}) => {\n  const [contextMenu, setContextMenu] = useState(null);\n  const [showCreateModal, setShowCreateModal] = useState(false);\n  const [createType, setCreateType] = useState('file'); // 'file' or 'folder'\n  const [createParentId, setCreateParentId] = useState(null);\n  const [createName, setCreateName] = useState('');\n\n  const handleContextMenu = (e, item) => {\n    e.preventDefault();\n    setContextMenu({\n      x: e.clientX,\n      y: e.clientY,\n      item\n    });\n  };\n\n  const handleCreateClick = (type, parentId = null) => {\n    setCreateType(type);\n    setCreateParentId(parentId);\n    setCreateName('');\n    setShowCreateModal(true);\n    setContextMenu(null);\n  };\n\n  const handleCreate = async () => {\n    if (!createName.trim()) return;\n\n    try {\n      if (createType === 'file') {\n        await onCreateFile(createParentId, createName.trim());\n      } else {\n        await onCreateFolder(createParentId, createName.trim());\n      }\n      setShowCreateModal(false);\n    } catch (error) {\n      // Error handled in parent\n    }\n  };\n\n  const handleDelete = async (item) => {\n    const confirmMessage = item.type === 'folder' \n      ? `Are you sure you want to delete \"${item.name}\" and all its contents?`\n      : `Are you sure you want to delete \"${item.name}\"?`;\n      \n    if (window.confirm(confirmMessage)) {\n      try {\n        if (item.type === 'folder') {\n          await onDeleteFolder(item.id);\n        } else {\n          await onDeleteFile(item.id);\n        }\n      } catch (error) {\n        // Error handled in parent\n      }\n    }\n    setContextMenu(null);\n  };\n\n  const renderTreeItem = (item, level = 0) => {\n    const isExpanded = expandedFolders.has(item.id);\n    const isSelected = currentFile?.id === item.id;\n\n    return (\n      <div key={item.id}>\n        <div\n          style={{\n            display: 'flex',\n            alignItems: 'center',\n            padding: '4px 8px',\n            paddingLeft: `${level * 16 + 8}px`,\n            cursor: 'pointer',\n            backgroundColor: isSelected ? '#37373d' : 'transparent',\n            fontSize: '14px'\n          }}\n          onClick={() => {\n            if (item.type === 'folder') {\n              onToggleFolder(item.id);\n            } else {\n              onFileSelect(item);\n            }\n          }}\n          onContextMenu={(e) => handleContextMenu(e, item)}\n          onMouseEnter={(e) => {\n            if (!isSelected) e.target.style.backgroundColor = '#2a2d2e';\n          }}\n          onMouseLeave={(e) => {\n            if (!isSelected) e.target.style.backgroundColor = 'transparent';\n          }}\n        >\n          {item.type === 'folder' && (\n            <span style={{ marginRight: '4px', fontSize: '12px' }}>\n              {isExpanded ? 'ðŸ“‚' : 'ðŸ“'}\n            </span>\n          )}\n          {item.type === 'file' && (\n            <span style={{ marginRight: '4px', fontSize: '12px' }}>\n              ðŸ“„\n            </span>\n          )}\n          <span>{item.name}</span>\n        </div>\n        \n        {item.type === 'folder' && isExpanded && item.children && (\n          <div>\n            {item.children.map(child => renderTreeItem(child, level + 1))}\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  return (\n    <div style={{\n      width: '300px',\n      backgroundColor: '#252526',\n      borderRight: '1px solid #3e3e42',\n      display: 'flex',\n      flexDirection: 'column'\n    }}>\n      {/* Header */}\n      <div style={{\n        padding: '12px 16px',\n        borderBottom: '1px solid #3e3e42',\n        fontSize: '11px',\n        fontWeight: 'bold',\n        textTransform: 'uppercase',\n        letterSpacing: '0.5px',\n        color: '#cccccc'\n      }}>\n        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n          <span>Explorer</span>\n          <div style={{ display: 'flex', gap: '8px' }}>\n            <button\n              onClick={() => handleCreateClick('file')}\n              style={{\n                background: 'none',\n                border: 'none',\n                color: '#cccccc',\n                cursor: 'pointer',\n                fontSize: '16px',\n                padding: '2px'\n              }}\n              title=\"New File\"\n            >\n              ðŸ“„\n            </button>\n            <button\n              onClick={() => handleCreateClick('folder')}\n              style={{\n                background: 'none',\n                border: 'none',\n                color: '#cccccc',\n                cursor: 'pointer',\n                fontSize: '16px',\n                padding: '2px'\n              }}\n              title=\"New Folder\"\n            >\n              ðŸ“\n            </button>\n            <button\n              onClick={onRefresh}\n              style={{\n                background: 'none',\n                border: 'none',\n                color: '#cccccc',\n                cursor: 'pointer',\n                fontSize: '14px',\n                padding: '2px'\n              }}\n              title=\"Refresh\"\n            >\n              ðŸ”„\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Tree */}\n      <div style={{ flex: 1, overflowY: 'auto' }}>\n        {isLoading ? (\n          <div style={{ padding: '16px', textAlign: 'center', color: '#888' }}>\n            Loading...\n          </div>\n        ) : treeData.length === 0 ? (\n          <div style={{ padding: '16px', textAlign: 'center', color: '#888' }}>\n            No files or folders yet.\n            <br />\n            Create your first file or folder.\n          </div>\n        ) : (\n          treeData.map(item => renderTreeItem(item))\n        )}\n      </div>\n\n      {/* Context Menu */}\n      {contextMenu && (\n        <div\n          style={{\n            position: 'fixed',\n            top: contextMenu.y,\n            left: contextMenu.x,\n            backgroundColor: '#3c3c3c',\n            border: '1px solid #5e5e5e',\n            borderRadius: '4px',\n            zIndex: 1000,\n            minWidth: '150px'\n          }}\n          onMouseLeave={() => setContextMenu(null)}\n        >\n          {contextMenu.item.type === 'folder' && (\n            <>\n              <div\n                style={{ padding: '8px 12px', cursor: 'pointer', fontSize: '14px' }}\n                onClick={() => handleCreateClick('file', contextMenu.item.id)}\n                onMouseEnter={(e) => e.target.style.backgroundColor = '#505050'}\n                onMouseLeave={(e) => e.target.style.backgroundColor = 'transparent'}\n              >\n                New File\n              </div>\n              <div\n                style={{ padding: '8px 12px', cursor: 'pointer', fontSize: '14px' }}\n                onClick={() => handleCreateClick('folder', contextMenu.item.id)}\n                onMouseEnter={(e) => e.target.style.backgroundColor = '#505050'}\n                onMouseLeave={(e) => e.target.style.backgroundColor = 'transparent'}\n              >\n                New Folder\n              </div>\n              <div style={{ height: '1px', backgroundColor: '#5e5e5e', margin: '4px 0' }} />\n            </>\n          )}\n          <div\n            style={{ padding: '8px 12px', cursor: 'pointer', fontSize: '14px', color: '#f85149' }}\n            onClick={() => handleDelete(contextMenu.item)}\n            onMouseEnter={(e) => e.target.style.backgroundColor = '#505050'}\n            onMouseLeave={(e) => e.target.style.backgroundColor = 'transparent'}\n          >\n            Delete\n          </div>\n        </div>\n      )}\n\n      {/* Create Modal */}\n      {showCreateModal && (\n        <div style={{\n          position: 'fixed',\n          top: 0,\n          left: 0,\n          right: 0,\n          bottom: 0,\n          backgroundColor: 'rgba(0,0,0,0.5)',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          zIndex: 1000\n        }}>\n          <div style={{\n            backgroundColor: '#2d2d30',\n            borderRadius: '8px',\n            padding: '24px',\n            width: '400px',\n            maxWidth: '90vw'\n          }}>\n            <h3 style={{ margin: '0 0 16px 0', fontSize: '18px' }}>\n              Create New {createType === 'file' ? 'File' : 'Folder'}\n            </h3>\n            \n            <input\n              type=\"text\"\n              value={createName}\n              onChange={(e) => setCreateName(e.target.value)}\n              placeholder={`Enter ${createType} name...`}\n              style={{\n                width: '100%',\n                padding: '8px 12px',\n                backgroundColor: '#1e1e1e',\n                border: '1px solid #3e3e42',\n                borderRadius: '4px',\n                color: 'white',\n                fontSize: '14px',\n                boxSizing: 'border-box',\n                marginBottom: '16px'\n              }}\n              autoFocus\n              onKeyPress={(e) => {\n                if (e.key === 'Enter') {\n                  handleCreate();\n                }\n              }}\n            />\n            \n            <div style={{ display: 'flex', gap: '12px', justifyContent: 'flex-end' }}>\n              <button\n                onClick={() => setShowCreateModal(false)}\n                style={{\n                  padding: '8px 16px',\n                  backgroundColor: '#6c757d',\n                  color: 'white',\n                  border: 'none',\n                  borderRadius: '4px',\n                  cursor: 'pointer',\n                  fontSize: '14px'\n                }}\n              >\n                Cancel\n              </button>\n              <button\n                onClick={handleCreate}\n                disabled={!createName.trim()}\n                style={{\n                  padding: '8px 16px',\n                  backgroundColor: createName.trim() ? '#0e639c' : '#404040',\n                  color: 'white',\n                  border: 'none',\n                  borderRadius: '4px',\n                  cursor: createName.trim() ? 'pointer' : 'not-allowed',\n                  fontSize: '14px'\n                }}\n              >\n                Create\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default VSCodeLayout;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}